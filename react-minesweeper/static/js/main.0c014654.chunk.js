(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],{12:function(e,a,t){e.exports=t(25)},17:function(e,a,t){},18:function(e,a,t){},25:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),o=t(4),i=t.n(o),c=(t(17),t(18),t(5)),u=t(3),f="BEGINNER",d="INTERMEDIATE",v="EXPERT",m=0,s=1,h=2,k=(n={},Object(u.a)(n,f,{key:f,level:"Beginner",width:9,height:9,mines:10}),Object(u.a)(n,d,{key:d,level:"Intermediate",width:16,height:16,mines:40}),Object(u.a)(n,v,{key:v,level:"Expert",width:30,height:16,mines:99}),n);function w(e){var a=Array.from(Array(k[e].height),(function(){return new Array(k[e].width).fill({})}));a.forEach((function(e,t){e.forEach((function(e,n){a[t][n]={value:0,revealed:!1,mark:m,exploded:!1}}))}));var t=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];return function(e){for(var a=[],t=k[e].width*k[e].height,n=function(e){var n=Math.floor(Math.random()*(t-a.length));for(n+=a.filter((function(e){return e<=n})).length;a.includes(n);)n+=1;a.push(n)},r=0;r<k[e].mines;r++)n();return a.sort((function(e,a){return e-a})),a}(e).forEach((function(n){var r=Math.floor(n/k[e].width),l=n%k[e].width;a[r][l].value-=9,t.forEach((function(e){"undefined"!==typeof a[r+e[0]]&&"undefined"!==typeof a[r+e[0]][l+e[1]]&&(a[r+e[0]][l+e[1]].value+=1)}))})),{level:k[e],flagCount:0,fieldData:a}}function E(e,a,t){var n=[{row:-1,col:-1},{row:-1,col:0},{row:-1,col:1},{row:0,col:-1},{row:0,col:1},{row:1,col:-1},{row:1,col:0},{row:1,col:1}];if(e.fieldData[a][t].mark===s)return e;for(var r=[{row:a,col:t}],l=function(){var a=r.shift();e.fieldData[a.row][a.col].revealed=!0,e.fieldData[a.row][a.col].value<0&&(e.fieldData[a.row][a.col].exploded=!0,e.fieldData.forEach((function(a,t){a.forEach((function(a,n){a.value<0&&!a.revealed&&a.mark!==s&&(e.fieldData[t][n].revealed=!0),a.mark===s&&a.value>=0&&(e.fieldData[t][n].revealed=!0)}))}))),0===e.fieldData[a.row][a.col].value&&n.forEach((function(t){var n=a.row+t.row,l=a.col+t.col;"undefined"===typeof e.fieldData[n]||"undefined"===typeof e.fieldData[n][l]||e.fieldData[n][l].revealed||r.push({row:n,col:l})}))};r.length>0;)l();return e}function p(e,a,t){return e.fieldData[a][t].mark++,e.fieldData[a][t].mark%=3,e.fieldData[a][t].mark===s&&e.flagCount++,e.fieldData[a][t].mark===h&&e.flagCount--,e}function D(e){var a=e.mineField,t=e.onClick,n=e.onMark;return a?l.a.createElement("table",{className:"field"},l.a.createElement("tbody",null,a.fieldData.map((function(e,a){return l.a.createElement("tr",{key:"r"+a},e.map((function(e,r){if(e.revealed){var o="tile revealed",i=e.value;return e.exploded&&(o+=" exploded"),e.mark===s&&(o+=" wrong"),e.mark!==s&&e.value>0&&(o+=" tile"+e.value),0===e.value&&(i=""),e.value<0&&(i="\ud83d\udca3"),e.mark===s&&e.value>=0&&(i="\ud83d\udca3"),l.a.createElement("td",{className:o,key:"cr"+r},i)}return l.a.createElement("td",{className:"tile unrevealed",key:"cu"+r,onClick:function(e){t&&t(a,r)},onContextMenu:function(e){e.preventDefault(),n&&n(a,r)}},e.mark===s?"\ud83d\udea9":"",e.mark===h?"?":"")})))})))):null}var g="FIELD",y="REVEAL",b="MARK",j={resetGame:function(e){var a=w(e);return{type:g,fieldData:a}},reveal:function(e,a){return{type:y,row:e,col:a}},mark:function(e,a){return{type:b,row:e,col:a}}};var O={onClick:j.reveal,onMark:j.mark,onLevelClick:j.resetGame},C=Object(c.b)((function(e){return{mineField:e.game.fieldData}}),O)((function(e){var a=e.mineField,t=e.onClick,n=e.onMark,r=e.onLevelClick;return l.a.createElement("div",null,l.a.createElement("div",null,"Level: ",Object.values(k).map((function(e){return l.a.createElement("button",{key:e.key,onClick:function(){r(e.key)}},e.level)}))),l.a.createElement("div",null,"Remaining: ",a.level.mines-a.flagCount),l.a.createElement("div",null,l.a.createElement(D,{mineField:a,onClick:t,onMark:n})))})),M=t(2),x=t(11),A=t(1);var N=Object(M.c)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return Object(A.a)(Object(A.a)({},e),{},{fieldData:a.fieldData});case y:return Object(A.a)(Object(A.a)({},e),{},{fieldData:E(Object(A.a)({},e.fieldData),a.row,a.col)});case b:return Object(A.a)(Object(A.a)({},e),{},{fieldData:p(Object(A.a)({},e.fieldData),a.row,a.col)});default:return e}}}),I=Object(M.d)(N,Object(M.a)(x.a));I.dispatch(j.resetGame(f));var R=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(C,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(c.a,{store:I},l.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.0c014654.chunk.js.map